# _ = require 'underscore'

_plugins = require './_plugins'
# _cssFromObject = (cssMap, isDebug = 0) ->
#   newline = if isDebug then '\n' else ''
#   space = if isDebug then ' ' else ''
#   inline = !isDebug
#   indent = isDebug
#   css = ''
#   for selector, styles of cssMap
#     rules = _styleFromObject styles, inline:inline, indent:indent
#     css += "#{selector}#{space}{#{newline}#{rules}}#{newline}"
#   css

# domcss = (obj) ->
#   css = _cssFromObject obj
#   console.log "css: ", css
# `window.domcss = domcss`

module.exports = oj ->

  doctype 5
  html lang:'en', ->
    head ->
      title 'Test'

      link url:'styles/reset.css'
      # link url:'styles/jquery-ui-1.10.3.custom.css'
      # script url: 'scripts/jquery.js'
      script url: 'scripts/underscore.js'
      script url: 'scripts/backbone.js'
      script url: 'scripts/ace/ace.js'
      # script url: 'scripts/jquery-ui-1.10.3.custom.js'
      # script url: 'scripts/jquery.ba-resize.min.js'

      meta charset:'UTF-8'
      meta 'http-equiv':"X-UA-Compatible", content:'IE=edge,chrome=1'

    body ->
      if oj.isClient
        CodeModel = Backbone.Model.extend()
        code = new CodeModel({code: 'function test(){\n}\nvar foo = 5;'});

      ae = AceEditor()
        # model: code
        # key: 'code'
        # wrapLimit: '23'
        # mode: 'javascript'
        # theme: 'solarized_light'
        # padding: 20
      # ae.$el.css border:'1px solid orange'
      `window.ae = ae;`

      # css
      #   '.ace_line':
      #     height: '20px !important'


      # domcss div:color:'red'

      # t = TryEditor
      #   js: """
      #     div('this should work');

      # `window.t = t`
      # ae2 = AceEditor
      #   model: code
      #   key: 'code'
      #   wrapLimit: 30
      #   mode: 'javascript'
      #   theme: 'solarized_dark'

      # tb = TextArea value:'value default', model: code, key:'code', style:
      #   width: 200
      #   height: 200
      #   fontSize: 14

      # TwitterFollowButton 'evanmoran', showUsername:false
      # TwitterFollowButton('evanmoran', {showCount: false, large:false});
      # TwitterFollowButton 'evanmoran'
      # TwitterFollowButton 'iamthelawton'

      # VimeoVideo()

      # `window.ae2 = ae2;`

      # br()

      # `window.vid = vid;`

