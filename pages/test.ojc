# _ = require 'underscore'

_plugins = require './_plugins'
# _cssFromObject = (cssMap, isDebug = 0) ->
#   newline = if isDebug then '\n' else ''
#   space = if isDebug then ' ' else ''
#   inline = !isDebug
#   indent = isDebug
#   css = ''
#   for selector, styles of cssMap
#     rules = _styleFromObject styles, inline:inline, indent:indent
#     css += "#{selector}#{space}{#{newline}#{rules}}#{newline}"
#   css

# domcss = (obj) ->
#   css = _cssFromObject obj
#   console.log "css: ", css
# `window.domcss = domcss`
###
    h1('Welcome to OJ')

    list = BulletList(
      "Everything is Javascript",
      "Objects create html"
    )

    list.add("Objects live edit the dom");
    list.add("CSS works!");

    css({
      h1:{
        color:'orange'
      }
    });

    var btn = Button('Add item',{click:function(){
      list.add('Event binding works!')
    }})

    btn.click()
###
module.exports = oj ->

  doctype 5
  html lang:'en', ->
    head ->
      meta name:'viewport', content:'width=device-width'

      title 'Test'

      link href:'styles/reset.css', rel:'stylesheet', type:'text/css'
      link href:'styles/bootstrap.css', rel:'stylesheet', type:'text/css'
      link href:'styles/jquery-ui-1.10.3.custom.css', rel:'stylesheet', type:'text/css'

      script src: 'scripts/jquery.js', type:'text/javascript'
      script src: 'scripts/underscore.js', type:'text/javascript'
      script src: 'scripts/backbone.js', type:'text/javascript'
      script src: 'scripts/ace/ace.js', type:'text/javascript'

      script src: 'scripts/bootstrap.js', type:'text/javascript'

      script src: 'scripts/jquery-ui-1.10.3.custom.js', type:'text/javascript'
      script src: 'scripts/jquery.ba-resize.min.js', type:'text/javascript'

      meta charset:'UTF-8'
      meta 'http-equiv':"X-UA-Compatible", content:'IE=edge,chrome=1'

    body ->

      div 'Outer', ->

        div 'Class none'

        div c:'c1', 'Class 1'

        div c:'c1 c2', 'Class 1 & 2'

      table style:{width:'1000px', border:'1px solid black'}, ->

        tr ->
          td('asdf')
          td('asdf')
          td 'asdf', colspan:4, style:backgroundColor:'red'

        tr ->
          td('asdf')
          td('asdf')
          td('asdf')
          td('asdf')
          td('asdf')
          td('asdf')


      BulletList(
        new CheckBox()
        2
        3
      )

      List(
        new CheckBox()
        2
        3
      )

      # Table(
      #   [1,td]
      #   [5,6,7]
      #   []
      # )



      css
        div:
          color:'red'

          '@media tablet':
            color:'green'

          '@media phone':
            color:'purple'
            '.c2':
              border:'1px solid black'

          '&:nth-child(even)':
            fontSize:'20px'












      # ae = AceEditor()
      #   model: code
      #   key: 'code'
      #   wrapLimit: '23'
      #   mode: 'javascript'
      #   theme: 'solarized_light'
      #   padding: 20
      # ae.$el.css border:'1px solid orange'
      # `window.ae = ae;`

      # css
      #   '.ace_line':
      #     height: '20px !important'


      # domcss div:color:'red'

      # t = TryEditor
      #   js: """
      #     div('this should work');

      # `window.t = t`
      # ae2 = AceEditor
      #   model: code
      #   key: 'code'
      #   wrapLimit: 30
      #   mode: 'javascript'
      #   theme: 'solarized_dark'

      # tb = TextArea value:'value default', model: code, key:'code', style:
      #   width: 200
      #   height: 200
      #   fontSize: 14

      # TwitterFollowButton 'evanmoran', showUsername:false
      # TwitterFollowButton('evanmoran', {showCount: false, large:false});
      # TwitterFollowButton 'evanmoran'
      # TwitterFollowButton 'iamthelawton'

      # VimeoVideo()

      # `window.ae2 = ae2;`

      # br()

      # `window.vid = vid;`

